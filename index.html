<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶ñ‡ßá‡¶≤‡ßã ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</title>

<style>
body {
    margin: 0;
    font-family: Arial;
    background: url("images/IMG_20251204_191555_241.png") no-repeat center center fixed;
    background-size: cover;
}
body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
    z-index: -1;
}
.header {
    background: rgba(255,255,255,0.9);
    padding: 15px;
    font-size: 22px;
    font-weight: bold;
    text-align: center;
}
h2 {
    margin: 20px;
    font-size: 22px;
    color: white;
}
.card-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    padding: 15px;
}
.card {
    background: rgba(255,255,255,0.85);
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
}
.card img {
    width: 100%;
    height: 150px;
    object-fit: cover;
}
.card-text { padding: 10px; }
.card-title { font-size: 18px; font-weight: bold; }
.card-sub { font-size: 14px; color: gray; }

.bottom-nav {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: rgba(255,255,255,0.9);
    display: flex;
    justify-content: space-around;
    padding: 12px 0;
}
.bottom-nav a {
    text-decoration: none;
    color: #333;
}
.bottom-nav a.active {
    color: #ff9900;
    font-weight: bold;
}
</style>
</head>

<body>

<div class="header">‡¶ñ‡ßá‡¶≤‡ßã ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</div>
<h2>FREE FIRE</h2>

<div class="card-container">

    <div class="card" onclick="openMatch('br')">
        <img src="images/br.jpg">
        <div class="card-text">
            <div class="card-title">BR MATCH</div>
            <div class="card-sub" id="br-count">Loading...</div>
        </div>
    </div>

    <div class="card" onclick="openMatch('cs')">
        <img src="images/clash.jpg">
        <div class="card-text">
            <div class="card-title">Clash Squad</div>
            <div class="card-sub" id="cs-count">Loading...</div>
        </div>
    </div>

    <div class="card" onclick="openMatch('lone')">
        <img src="images/lone.jpg">
        <div class="card-text">
            <div class="card-title">Lone Wolf</div>
            <div class="card-sub" id="lone-count">Loading...</div>
        </div>
    </div>

    <div class="card" onclick="openMatch('2v2')">
        <img src="images/cs2.jpg">
        <div class="card-text">
            <div class="card-title">CS 2 vs 2</div>
            <div class="card-sub" id="vs-count">Loading...</div>
        </div>
    </div>

</div>

<div class="bottom-nav">
    <a href="index.html" class="active">üéÆ Play</a>
    <a href="matches.html">üìÑ My Matches</a>
    <a href="results.html">üìä Results</a>
    <a href="profile.html">üë§ Profile</a>
</div>

<script>
function openMatch(type) {
    if (type === "br") location.href = "br-matches.html";
    if (type === "cs") location.href = "cs-matches.html";
    if (type === "lone") location.href = "lone-matches.html";
    if (type === "2v2") location.href = "2v2-matches.html";
}
</script>

<!-- üî• FIREBASE + MATCH COUNT -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBKzB2v0xKe5_3FkOJ4lFct42qDa5IhhgU",
  authDomain: "free-fire-site.firebaseapp.com",
  projectId: "free-fire-site",
  storageBucket: "free-fire-site.firebasestorage.app",
  messagingSenderId: "1078452484864",
  appId: "1:1078452484864:web:5395a38a0c4181a3dcd1e5"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

function liveCount(docId, elId) {
  const ref = doc(db, "matches", docId);
  onSnapshot(ref, snap => {
    document.getElementById(elId).innerText =
      snap.exists() ? snap.data().count + " ‡¶ü‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö" : "0 ‡¶ü‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö";
  });
}

liveCount("br", "br-count");
liveCount("cs", "cs-count");
liveCount("lone", "lone-count");
liveCount("2v2", "vs-count");
</script>

</body>
</html>
