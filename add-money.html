<!DOCTYPE html>
<html>
<head>
<title>Add Money</title>
<style>
body{font-family:Arial;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);padding:20px}
.box{background:#fff;padding:20px;border-radius:12px;max-width:420px;margin:auto}
.method button{width:48%;padding:10px;border-radius:8px;border:2px solid #ccc;font-weight:bold}
.active{border-color:green;background:#eaffea}
input{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ccc}
.submit{background:#00c853;color:#fff;border:none;padding:12px;border-radius:8px;width:100%;font-size:16px}
.info{background:#f1f1f1;padding:10px;border-left:4px solid green;margin:10px 0}
</style>
</head>
<body>

<script>
let user = JSON.parse(localStorage.getItem("loggedUser"));
if(!user){
 alert("Please login first");
 location.href="login.html";
}
</script>

<div class="box">
<h2>üí≥ Add Money</h2>

<div class="method">
<button id="bkashBtn" class="active" onclick="setMethod('bKash')">bKash</button>
<button id="nagadBtn" onclick="setMethod('Nagad')">Nagad</button>
</div>

<div class="info" id="payInfo">
<b>bKash Payment Number:</b><br>
01773170184<br>
‡¶è‡¶á ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá TxID ‡¶¶‡¶ø‡¶®
</div>

<input id="amount" placeholder="Enter Amount">
<input id="number" placeholder="Your Mobile Number">
<input id="txid" placeholder="Transaction ID">

<button class="submit" onclick="submitDeposit()">Submit Deposit Request</button>

<p style="text-align:center;font-size:13px;margin-top:10px">
Admin approve ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ Wallet ‡¶è ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá
</p>
</div>

<script>
let method="bKash";

function setMethod(m){
 method=m;
 document.getElementById("bkashBtn").classList.remove("active");
 document.getElementById("nagadBtn").classList.remove("active");
 document.getElementById(m==="bKash"?"bkashBtn":"nagadBtn").classList.add("active");

 document.getElementById("payInfo").innerHTML=
 `<b>${m} Payment Number:</b><br>01773170184<br>‡¶è‡¶á ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá TxID ‡¶¶‡¶ø‡¶®`;
}

function submitDeposit(){
 let amt=document.getElementById("amount").value;
 let num=document.getElementById("number").value;
 let tx=document.getElementById("txid").value;

 if(!amt||!num||!tx){
  alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®");
  return;
 }

 let requests=JSON.parse(localStorage.getItem("depositRequests"))||[];

 requests.push({
  email:user.email,
  amount:Number(amt),
  method:method,
  number:num,
  txid:tx,
  time:new Date().toLocaleString()
 });

 localStorage.setItem("depositRequests",JSON.stringify(requests));
 alert("‚úÖ Deposit request sent to Admin");
 location.href="wallet.html";
}
</script>

</body>
</html>
