<!DOCTYPE html>
<html>
<head>
<title>Admin Deposit</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.req{background:#fff;padding:15px;border-radius:10px;margin-bottom:10px}
button{padding:8px;border:none;border-radius:5px;color:#fff}
.ok{background:green}
.no{background:red}
</style>
</head>
<body>

<h2>Deposit Requests</h2>
<div id="list"></div>

<script>
function load(){
 let req=JSON.parse(localStorage.getItem("depositRequests"))||[];
 let users=JSON.parse(localStorage.getItem("users"))||[];
 let box=document.getElementById("list");
 box.innerHTML="";

 if(req.length===0){box.innerHTML="No request";return;}

 req.forEach((r,i)=>{
  box.innerHTML+=`
  <div class="req">
  <b>${r.email}</b><br>
  ${r.method} | ${r.amount} TK<br>
  ${r.txid}<br><br>
  <button class="ok" onclick="approve(${i})">Approve</button>
  <button class="no" onclick="reject(${i})">Reject</button>
  </div>`;
 });
}

function approve(i){
 let req=JSON.parse(localStorage.getItem("depositRequests"));
 let users=JSON.parse(localStorage.getItem("users"));
 let r=req[i];
 let u=users.find(x=>x.email===r.email);
 if(u){u.balance+=r.amount;}
 localStorage.setItem("users",JSON.stringify(users));
 req.splice(i,1);
 localStorage.setItem("depositRequests",JSON.stringify(req));
 load();
}

function reject(i){
 let req=JSON.parse(localStorage.getItem("depositRequests"));
 req.splice(i,1);
 localStorage.setItem("depositRequests",JSON.stringify(req));
 load();
}
load();
</script>

</body>
</html>
