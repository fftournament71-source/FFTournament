<!DOCTYPE html>
<html>
<head>
<title>Withdraw</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.card{background:#fff;padding:20px;border-radius:12px}
input,select{width:100%;padding:10px;margin:8px 0}
button{width:100%;padding:12px;background:green;color:#fff;border:none;border-radius:8px}
</style>
</head>
<body>

<h2>Withdraw</h2>

<div class="card">
<select id="method">
<option>bKash</option>
<option>Nagad</option>
</select>

<input id="number" placeholder="Your Number">
<input id="amount" placeholder="Amount">

<button onclick="withdraw()">Submit Withdraw Request</button>
</div>

<script>
function withdraw(){
let user = JSON.parse(localStorage.getItem("loggedInUser"));
let amt = parseInt(document.getElementById("amount").value);

if(user.balance < amt){
alert("Insufficient balance");
return;
}

let reqs = JSON.parse(localStorage.getItem("withdrawRequests")) || [];
reqs.push({
email:user.email,
amount:amt,
number:document.getElementById("number").value,
method:document.getElementById("method").value
});

user.balance -= amt;
localStorage.setItem("loggedInUser",JSON.stringify(user));

localStorage.setItem("withdrawRequests",JSON.stringify(reqs));
alert("Withdraw request sent!");
location.href="wallet.html";
}
</script>

</body>
</html>
