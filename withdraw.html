<!DOCTYPE html>
<html>
<head>
<title>Withdraw</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.box{background:#fff;padding:20px;border-radius:10px;max-width:400px;margin:auto}
input,button{width:100%;padding:12px;margin-top:10px}
button{background:red;color:#fff;border:none;font-size:18px}
</style>
</head>
<body>

<div class="box">
<h2>Withdraw</h2>
<input id="amount" type="number" placeholder="Amount">
<input id="number" placeholder="bKash/Nagad Number">
<button onclick="withdraw()">Submit</button>
</div>

<script>
function withdraw(){
let user = JSON.parse(localStorage.getItem("loggedUser"));
let users = JSON.parse(localStorage.getItem("users")) || [];
let me = users.find(u=>u.email===user.email);

let amount = parseInt(document.getElementById("amount").value);
let number = document.getElementById("number").value;

if(amount>me.balance){alert("Insufficient balance");return;}

let reqs = JSON.parse(localStorage.getItem("withdrawRequests")) || [];
reqs.push({email:user.email,amount,number});

me.balance -= amount;
localStorage.setItem("users",JSON.stringify(users));
localStorage.setItem("withdrawRequests",JSON.stringify(reqs));

alert("Withdraw request sent");
location.href="wallet.html";
}
</script>

</body>
</html>
